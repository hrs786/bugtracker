doctype html
html
  head
    title Issues
    link(rel='stylesheet', type='text/css', href='/bootstrap/css/bootstrap.min.css')
    link(rel='stylesheet', type='text/css', href='/stylesheets/navbar-dashboard.css')
    link(rel='stylesheet', type='text/css', href='/stylesheets/issues.css')

    script(type='text/javascript').
      document.getElementById('search')
        .addEventListener('keyup', function(event) {
          if (event.code === 'Enter') {
            event.preventDefault();
            document.querySelector('form').submit();
          }
        });
  

  body
    nav.navbar.navbar-expand-lg.navbar-custom.py-2
      a.navbar-brand.text-white(href='/')
        img.d-inline-block.align-center(src='/icons/bug.png', width='64', height='64', alt='')
        | 	  	BugTracker
      button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarNavAltMarkup', aria-controls='navbarNavAltMarkup', aria-expanded='false', aria-label='Toggle navigation')
        span.navbar-toggler-icon
      #navbarNavAltMarkup.collapse.navbar-collapse.justify-content-end
        .navbar-nav
          a.nav-item.nav-link.text-white.nit-custom(href='/logout')
            | Logout
            span.sr-only (current)
    

    .sidenav.clr-side
      .clr-side-hvr
        a(href='/profile')
          img.align-center(src='/icons/person-fill.svg', width='24', height='24', alt='')
          br
          |                 Profile
      hr
      .clr-side-hvr
        a(href='/dashboard')
          img.align-center(src='/icons/house-fill.svg', width='24', height='24', alt='')
          br
          | 				Home
      hr
      .clr-side-hvr
        a(href='/issues')
          img.align-center(src='/icons/file-ruled.svg', width='24', height='24', alt='')
          br
          | 				Issues
      hr
      .clr-side-hvr
        a(href='/projects')
          img.align-center(src='/icons/grid.svg', width='24', height='24', alt='')
          br
          | 				Projects
        hr
      .clr-side-hvr
        a(href='/progress')
          img.align-center(src='/icons/graph-up.svg', width='24', height='24', alt='')
          br
          | 				Progress
    
    
    .main.h-100
      .container-fluid.h-100
        .row.h-100
          .col-xs-12.col-md-12.bg-success
            .card.card-custom
              .card-header.header-custom
                img.align-center(src='/icons/list-ul.svg', width='30', height='30', alt='')
                | 					    		Get Issue By Id
                if(srch)
                  .search
                    form.form-inline(action='/issues/search', method='GET')
                      .form-group
                        input#search.form-control(type='text', name='search', placeholder='#issueID')
                        input.btn.btn-dark(type='submit', value='Search')
                else
                  a#redirect(href="/issues")= 'Search by id'
              .card-body.zero-pad
                table.data-table
                  thead
                    tr
                      th Id
                      th Status
                      th Priority
                      th Summary
                  tbody 
                    each issue in issues
                      tr
                        td
                          a(href='/issues/' + issue.id, target='_blank')= issue.id
                        td= issue.status
                        td= issue.priority
                        td= issue.summary
